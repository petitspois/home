# vim:set et ft=muttrc fdm=marker sw=4 sts=4 ts=4 nopaste :

# [ Refer 参考 ]# {{{
#--------------------------------------------
# From : 张川              http://hi.baidu.com/darkblueriver/blog/item/4368f50f10f3452e6059f350.html
# From : Amy( 分类 )       http://blogold.chinaunix.net/u/24647/showart_1102536.html





# }}}

# [ Path 路径 ]# {{{
#--------------------------------------------
set mbox_type=Maildir
# 默认信箱目录
set folder=$HOME/mail
#set folder="~/Mail"

# 信箱
set mbox="+inbox"
set record = "+sent"
set postponed = "+outbox"
#set narrow_tree=yes


# 默认信箱，可以和 $HOME/.procmailrc 设置的默认信箱相同
set spoolfile=~/mail/inbox

set header_cache=~/.hcache

# Where to find the mailcap
set mailcap_path="~/.mailcap"

# 已发送的邮件保存到那个信箱文件？比如可以每个月发出的信件放在不同的文件里
#set record="~/Mail/=sent-mail-`date +%Y-%m`"
set record="~/Mail/sentmail/=`date +%Y-%m`"

# file which contains my signature
set signature="~/Mail/.signature"

# where to store temp files
set tmpdir="~/Mail/tmp"

# 地址簿 格式 alias 缩写 名字 <邮箱> addressbook
source "~/.mutt/addressbook"

# 在 index 里按 "a" 为来信者取别名时，使用哪一个别名文件保存这个别名
set alias_file="~/.mutt/addressbook"

# 垃圾箱
folder-hook . 'macro index d "s$folder/trash\r"'
folder-hook $folder/trash 'bind index d delete-message'



# 让mutt监视下面几个邮箱，并随时报告新邮件
mailboxes = ~/mail/spool/gmail/volcanowill
mailboxes = ~/mail/spool/gmail/57lvii
mailboxes = ~/mail/spool/163/lviivl

#mailboxes \
#$MAIL \
#=inbox \
#=junkmail \
#=favorites \
#=archive




# }}}

# [ Base 基本 ]# {{{
#--------------------------------------------

# 设置默认的编辑器
set editor="vim"
set hostname = 'king'
set realname="guodong"

set delete=yes

set use_ipv6=no











# }}}

# [ View 视图 ]# {{{
#--------------------------------------------

# [ mail box ]# {{{
#--------------------------------------------






# }}}

# [ mail list ]# {{{
#--------------------------------------------

# 用纯 ascii 表示树状列表
set ascii_chars=yes
set confirmappend=no
set use_envelope_from=yes

# 避免整页整页的翻页，一行一行的翻页
set menu_scroll=yes

# 用 pager 看信件时，在 index 留出多少行显示邮件列表
set pager_context=1
# 在页中显示小型索引
set pager_index_lines=3
set postponed="+postponed"
#set print_command="a2ps -1gEmail --borders=no --strip=3"    # Print via a2ps
set quit=yes

# 当用 thread 排序方式时，对各个 thread 的相对排序顺序
# set sort=threads
set sort = reverse-date
set sort_aux = threads
set sort_browser = 'date'
set status_format=" %r %b %f %n　　　Del %d　　　Msgs %m %l %> (%P)"







# }}}

# [ mail ]# {{{
#--------------------------------------------

# 自动显示
auto_view text/
auto_view text/html
#text/html; lynx --dump %s; nametemplate=%s.html; copiousoutput








# }}}









# }}}

# [ Edit 编辑 ]# {{{
#--------------------------------------------

set use_from=yes
# 是否把邮件头也放在编辑器里可以修改
set edit_headers=yes

# 快速回复，不用确认回复地址和主题
set fast_reply=yes
# 回信引文之前的符号
set indent_str="> "
# 回信时自动包含原文
set include=yes
set index_format="%4C %Z %{%b %d} %-15.15L (%4l) %s"


# [ Header 邮件头 ]# {{{
#--------------------------------------------
ignore *
unignore Date: Subject: From: To: Cc: List-ID: Lines
hdr_order Date From To Subject X-Mailer User-Agent Organization

my_hdr From: guodong<volcanowill@gmail.com>
my_hdr Reply-To: guodong<volcanowill@gmail.com>

macro pager \cb <pipe-entry>'w3m'<enter> 'Follow links in w3m'            # visit url with w3m program


# }}}

# [ msmtp MTU 发送 ]# {{{
#--------------------------------------------
# msmtp 发送邮件,日志记录在 ~/Mail/msmtp.log
set sendmail="/usr/bin/msmtp -v -X ~/Mail/msmtp.log"
#set sendmail="/usr/bin/nbsmtp -U username -P password -d 163.com -h smtp.163.com -f YourMailAddr@163.com"
#set sendmail="/usr/sbin/sendmail -om -oi"
#set sendmail="/usr/bin/nbsmtp -U username -P password -d 163.com -h smtp.163.com -f YourMailAddr@163.com"

# }}}







# }}}

# [ Encoding 编码 ]# {{{
#--------------------------------------------

# locale
set charset = UTF-8
set locale  = zh_CN.UTF-8
# hook charset
charset-hook !UTF-8 gbk
charset-hook "^us-ascii$" "utf-8"
# send charset
set send_charset="us-ascii:iso-8859-1:utf-8:gbk"
set rfc2047_parameters=yes


# 解决未经过 MIME 编码的信件显示为乱码的问题
#set strict_mime=no
set assumed_charset="GB18030"
# 解决中文附件名为乱码的问题
set rfc2047_parameters=yes

# 显示日期为中文
#set locale="zh_CN"

# 发邮件使用编码
set send_charset="us-ascii:iso-8859-1:gb2312:utf-8"         # 外发邮件使用的编码

# 用中文格式显示日期
set locale="zh_CN.UTF-8"

# 解决中文附件名为乱码的问题
set rfc2047_parameters=yes

# 将邮件正文解码再搜索
set thorough_search=yes

# 解决没有设置字符编码的信件显示为乱码的问题
charset-hook ^us-ascii$ GB18030                    # 解决没有设置字符编码的信件显示为乱码的问题
charset-hook !UTF-8 GB18030                        # 解决主题为utf-8的信件标题显示为乱码的问题

# }}}

# [ Polish 润色 ]# {{{
#--------------------------------------------

# 外部程序退出时，是否要求用户按一个键才返回。适合查看某些shell命令输出
# 否则它们一下就消失了
set wait_key=yes

# 当把信件存到另一个信箱，而这个信箱已经存在时，是否提示附加？
#set confirmappend

# 按 "t" 或者 "D" 标记操作时，是否自动把光标移动到下一封信件
set resolve=no

# 退出时不在提示把信件从 spool 移动到的 mbox 文件
set move=no











# }}}

# [ POP3 ]# {{{
#--------------------------------------------

# [ POP 宏 ]# {{{
#--------------------------------------------
# 对多个POP信箱，可以设置一些方便的宏把POP信件收到信箱里。例子:
#
#macro index ,shredder ":set pop_host=\
# \"pop://shredder:shredder的密码@smth.org\"\r\
# <fetch-mail>"
#
# macro index ,sk8er ":set pop_host=\
# \"pop://sk8er:sk8er的密码@smth.org\"\r\
# <fetch-mail>"
#
# macro index ,ts ":set pop_host=\
# \"pop://wang-y01:wang-y01的密码@mails.tsinghua.edu.cn\"\r\
# <fetch-mail>"
#
# macro index ,g ",shredder,sk8er,ts"
## }}}

# [ POP3 example ]# {{{
#--------------------------------------------
# pop3收信，之前要查看$ mutt -v 编辑情况的确编辑了pop3了
# 以后进入mutt按G就可以收信了
#set pop_last=yes
#set pop_user=YourMailAddr@163.com
#set pop_pass="passwd"
#set pop_host=pop.163.com
# }}}

# }}}

# [ Maillist 邮件列表]# {{{
#--------------------------------------------
# 已订阅 邮件列表 (mailing-list).
# 地址前面的 "L" 表示是一个邮件列表转过来的。查看邮件后不要按 "r" 回信，这样会回到别人的私人信箱
# 按 "L"，就可以回复到邮件列表地址，这里就是 fvwm@fvwm.org
#subscribe fvwm@fvwm.org
subscribe linux-kernel@vger.kernel.org        #linux kernel development
subscribe kernelnewbies.nl.linux.org           #linux kernel newbies
subscribe fedora-list.redhat.com               #fedora
subscribe owner-linux-apps@vger.kernel.org      #linux apps
push <show-version>                                       # Get mutt to display its version on startup.





# }}}

# [ style 主题 ]# {{{
#--------------------------------------------

#配色方案,注释掉是因为在X下,mutt可以用rxvt-unicode终端的颜色设置.这样比较统一美观.
#source "~/.mutt/muttcolorset"








# }}}

# [  ]# {{{
#--------------------------------------------








# }}}

# [  ]# {{{
#--------------------------------------------








# }}}

# [  ]# {{{
#--------------------------------------------








# }}}

# [ key 快捷键 ]# {{{
#--------------------------------------------


macro index G "!~/Mail/check\n" "Invoke getmail"
macro pager G "!~/Mail/check\n" "Invoke getmail"
#macro index G "!fetchmail -kv -m '/usr/bin/procmail -d %T'\r"        #这俩行定义了热键G激活fetchmail来收邮件
#macro pager G "!fetchmail -kv -m '/usr/bin/procmail -d %T'\r"        #实际上我喜欢将fetchmail加入开机启动脚本
macro generic ,sm ":source $HOME/.muttrc\r"
macro generic \cv "!urxvt -e vi $HOME/.muttrc\r"
set pipe_decode
macro index \cb |urlview\n
macro pager \cb |urlview\n
#设置快捷键G调用脚本 checkmail 检查新邮件
#macro index G "!~/checkmail\n" "Checking mails......"

#key binding getmail
macro index    G "!~/.getmail/getmail\n"   "Invoke getmail"
macro pager    G "!~/.getmail/getmail\n"   "Invoke getmail"

#enter mailbox
macro index  A  "c=archive\r"
macro pager  A  "c=archive\r"
macro index  I  "c!\n" "Go to Inbox"
macro pager  I  "c!\n" "Go to Inbox"
macro index  F  "c=favorites\r"
macro pager  F  "c=favorites\r"
macro index  J  "c=junkmail\r"
macro pager  J  "c=junkmail\r"


# }}}

# 现在不用mutt直接收信了。
# 把mutt发送的from域作为sendmail发送邮件的sender(否则会用user@localdomian)
#set envelope_from=yes





